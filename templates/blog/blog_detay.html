{% extends 'base.html' %}
{% load static %}

{# --- SEO VERİLERİNİ BASE.HTML'E GÖNDER --- #}
{% block title %}
    {% if yazi.seo_title %}{{ yazi.seo_title }}{% else %}{{ yazi.baslik }} - Blog{% endif %}
{% endblock %}

{% block description %}
    {% if yazi.meta_description %}{{ yazi.meta_description }}{% else %}{{ yazi.icerik|striptags|truncatechars:160 }}{% endif %}
{% endblock %}

{% block meta_image %}
    {% if yazi.gorsel %}{{ yazi.gorsel.url }}{% else %}{% static 'images/logo.png' %}{% endif %}
{% endblock %}
{# ------------------------------------------ #}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            
            {# --- GÖRSEL VE ALT METNİ GÖSTERİMİ --- #}
            {% if yazi.gorsel %}
                <div class="mb-4 text-center">
                    <img src="{{ yazi.gorsel.url }}" 
                         alt="{{ yazi.gorsel_alt_metni|default:yazi.baslik }}" 
                         title="{{ yazi.gorsel_alt_metni|default:yazi.baslik }}"
                         class="img-fluid rounded shadow-sm" 
                         style="max-height: 500px; object-fit: cover;">
                </div>
            {% endif %}
            {# ------------------------------------- #}

            <h1 class="display-4 fw-bold mb-4">{{ yazi.baslik }}</h1>
            <p class="text-muted mb-4">
                <small>{{ yazi.olusturulma_tarihi|date:"d F Y" }}</small>
            </p>
            
            <div class="blog-icerik">
                {{ yazi.icerik|safe }}
            </div>

            <div class="mt-5">
                <a href="{% url 'blog:blog_listesi' %}" class="btn btn-outline-secondary">
                    &larr; Blog Listesine Dön
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}